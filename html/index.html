<!DOCTYPE html>
<head>
<style>
table {
	border: 1px solid black;
}
.main, .sub {
	color: #00ff00;
	background-color: #000000;
	font-family: monospace;
	font-style: bold;
	font-size: 56px;
}
.sub {
	font-size: 40px;
}
.freq {
	text-align: right;
}
.subt {
	float: right;
}
</style>

<script>
function sse() {
	var source=new EventSource('/wrr/stream');
	source.onmessage = function(e) {
		data = JSON.parse(e.data);
		if ( data.hasOwnProperty('freq') ) {
			for ( el in data["freq"] ) {
				var out = document.getElementById(el);
				out.innerHTML = data.freq[el];
			};
		};
	};
	source.onerror = function(e) {
		location.reload();
	}	
};
</script>
</head>
<body onload='sse()'>
<H1>WRR: Web Rig remote</h1>
<div style='width:400px'> 
	<table class="subt">
	<tr>
		<td class="freq">MHz
		<td class="freq">kHz
		<td class="freq">Hz
	</tr>
	<tr>
		<td class="main" id="mm">----
		<td class="main" id="mk">---
		<td class="main" id="mh">---
	</tr>
	</table>
<svg height="80" width="140">
  <defs>
    <radialGradient id="grad1" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
      <stop offset="0%" style="stop-color:rgb(170,170,170);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(255,255,255);stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad2" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
      <stop offset="0%" style="stop-color:rgb(0,225,0);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(255,255,255);stop-opacity:1" />
    </radialGradient>
    <radialGradient id="grad3" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
      <stop offset="0%" style="stop-color:rgb(225,0,0);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(255,255,255);stop-opacity:1" />
    </radialGradient>
  </defs>
  <circle cx="115" cy="40" r="25" fill="url(#grad1)" />
  Sorry, your browser does not support inline SVG.
</svg>
	<table class="subt">
	<tr>
		<td class="freq">MHz
		<td class="freq">kHz
		<td class="freq">Hz
	</tr>
	<tr>
		<td class="sub" id="sm">----
		<td class="sub" id="sk">---
		<td class="sub" id="sh">---
	</tr>
	</table>
</div>
</body>
</html>
